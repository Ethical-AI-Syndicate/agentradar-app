# AgentRadar API Environment Configuration
# Copy this file to .env and fill in your actual values

# Database
DATABASE_URL="postgresql://username:password@localhost:5432/agentradar_db"

# JWT Secret
JWT_SECRET="your-super-secret-jwt-key-here"

# OpenAI Configuration
OPENAI_API_KEY="sk-your-openai-api-key-here"
OPENAI_ORGANIZATION=""
OPENAI_PROJECT=""
OPENAI_DEFAULT_MODEL="gpt-4"
OPENAI_MAX_TOKENS="4000"
OPENAI_TEMPERATURE="0.7"
OPENAI_TIMEOUT="30000"
OPENAI_RETRY_ATTEMPTS="3"
OPENAI_RETRY_DELAY="1000"

# OpenAI Rate Limits
OPENAI_RPM="60"              # Requests per minute
OPENAI_RPD="10000"           # Requests per day
OPENAI_TPM="40000"           # Tokens per minute

# Anthropic Configuration (Optional)
ANTHROPIC_API_KEY=""
ANTHROPIC_DEFAULT_MODEL="claude-3-sonnet-20240229"
ANTHROPIC_MAX_TOKENS="4000"
ANTHROPIC_TEMPERATURE="0.7"
ANTHROPIC_TIMEOUT="30000"
ANTHROPIC_RETRY_ATTEMPTS="3"
ANTHROPIC_RETRY_DELAY="1000"

# Anthropic Rate Limits
ANTHROPIC_RPM="50"           # Requests per minute
ANTHROPIC_RPD="5000"         # Requests per day
ANTHROPIC_TPM="40000"        # Tokens per minute

# Real Estate Data Providers
MLS_API_ENABLED="false"
MLS_API_KEY=""
MLS_API_BASE_URL=""
MLS_API_RPH="100"            # Requests per hour
MLS_API_RPD="1000"           # Requests per day

ZILLOW_API_ENABLED="false"
ZILLOW_API_KEY=""
ZILLOW_API_BASE_URL="https://api.zillow.com"
ZILLOW_API_RPH="500"         # Requests per hour
ZILLOW_API_RPD="5000"        # Requests per day

REALTOR_API_ENABLED="false"
REALTOR_API_KEY=""
REALTOR_API_BASE_URL=""
REALTOR_API_RPH="1000"       # Requests per hour
REALTOR_API_RPD="10000"      # Requests per day

# AI Performance Monitoring
AI_MONITORING_ENABLED="true"
METRICS_RETENTION_DAYS="90"

# Alert Thresholds
ALERT_SUCCESS_RATE_THRESHOLD="0.95"     # 95% success rate
ALERT_RESPONSE_TIME_THRESHOLD="3000"    # 3 seconds
ALERT_ACCURACY_THRESHOLD="0.80"         # 80% accuracy
ALERT_DAILY_COST_LIMIT="100"            # $100 per day

# Alert Notification Channels
ALERT_EMAIL_RECIPIENTS="admin@yourdomain.com,alerts@yourdomain.com"
ALERT_SLACK_WEBHOOK_URL=""
ALERT_SLACK_CHANNEL="#alerts"
ALERT_DISCORD_WEBHOOK_URL=""

# AI Feature Flags
FEATURE_PROPERTY_VALUATION="true"
FEATURE_INVESTMENT_ANALYSIS="true"
FEATURE_MARKET_PREDICTION="true"
FEATURE_LEAD_SCORING="true"
FEATURE_CHATBOT="true"

# AI Cost Management
AI_DAILY_BUDGET_LIMIT="100"             # $100 per day
AI_MONTHLY_BUDGET_LIMIT="2000"          # $2000 per month
AI_PRICE_TRACKING="true"
AI_COST_OPTIMIZATION="true"

# Stripe Configuration
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"

# Email Configuration
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
FROM_EMAIL="noreply@agentradar.com"

# Redis (for caching and rate limiting)
REDIS_URL="redis://localhost:6379"

# Application Settings
NODE_ENV="development"
PORT="5000"
CORS_ORIGIN="http://localhost:3000"

# File Storage (AWS S3 or local)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
AWS_S3_BUCKET=""

# Logging
LOG_LEVEL="info"              # error, warn, info, debug
LOG_FILE="logs/app.log"

# Session Configuration
SESSION_SECRET="your-session-secret-here"
SESSION_MAX_AGE="86400000"    # 24 hours in milliseconds

# Rate Limiting
RATE_LIMIT_WINDOW_MS="900000" # 15 minutes
RATE_LIMIT_MAX_REQUESTS="100" # Max requests per window

# Court Data Processing
CANLII_API_KEY=""
RSS_FETCH_INTERVAL="3600000"  # 1 hour in milliseconds
COURT_DATA_RETENTION_DAYS="365"

# Real Estate Market Data
MARKET_DATA_UPDATE_INTERVAL="86400000"  # 24 hours
PROPERTY_CACHE_TTL="3600000"             # 1 hour

# AI Model Versioning and A/B Testing
AI_MODEL_VERSION="v1.0"
AB_TEST_ENABLED="false"
AB_TEST_SPLIT="50"            # Percentage for variant A

# Performance Monitoring
ENABLE_PROFILING="false"
PROFILING_SAMPLE_RATE="0.1"   # 10% of requests

# Security
BCRYPT_ROUNDS="12"
JWT_EXPIRES_IN="24h"
REFRESH_TOKEN_EXPIRES_IN="7d"

# External Webhooks
WEBHOOK_SECRET=""             # For securing incoming webhooks
WEBHOOK_TIMEOUT="10000"       # 10 seconds

# Development Tools
ENABLE_SWAGGER="true"         # API documentation
ENABLE_GRAPHQL_PLAYGROUND="true"

# Testing
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/agentradar_test_db"

# Backup and Recovery
BACKUP_ENABLED="true"
BACKUP_INTERVAL="86400000"    # 24 hours
BACKUP_RETENTION_DAYS="30"

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED="true"
HEALTH_CHECK_TIMEOUT="5000"   # 5 seconds

# Feature Flags for A/B Testing and Gradual Rollouts
FEATURE_NEW_UI="false"
FEATURE_ADVANCED_ANALYTICS="false"
FEATURE_BETA_FEATURES="false"